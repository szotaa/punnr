<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{_layout.html}">
<head>
    <meta charset="UTF-8"/>
    <title>Punnr</title>
</head>
<body>
<main layout:fragment="content">
    <div class="btn-group-justified" role="group" style="text-align: center">
        <a th:href="@{/room/new}" class="btn btn-primary" role="button">Start and join new game</a>
        <a th:href="@{/room}" class="btn btn-primary" role="button">Refresh</a>
    </div>
    <div id="roomList" th:if="${rooms.size() > 0}">
        <table class="table table-hover">
            <thead class="thead-light">
            <tr>
                <th scope="col">#</th>
                <th scope="col">Game</th>
                <th scope="col">Players</th>
                <th scope="col">Join</th>
            </tr>
            </thead>
            <tbody>
                <tr th:each="room, itr : ${rooms}">
                    <th scope="row" th:text="${itr.index + 1}">game iterator</th>
                    <th th:text="${room.key}">game id</th>
                    <th th:text="${room.value.getPlayers().size()}"></th>
                    <th><a th:href="@{/room/__${room.key}__}">Join</a></th>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="noRoomsFoundMessage" th:unless="${rooms.size() > 0}">
        <p>No ongoing games</p>
    </div>
</main>
</body>
</html>